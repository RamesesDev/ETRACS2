<workunit>
    <invokers>
        <invoker type="value_handler:rputype" />
    </invokers>
    
    <code>
        <![CDATA[

        import com.rameses.rcp.annotations.*
        import com.rameses.rcp.common.*
        import com.rameses.osiris2.client.*
        import rulemgmt.*;

        public class RPUTypeValueHandler extends ValueHandler {
        
            @Binding
            def binding

            def lookup() {
                def h = { o->
                    value = o;
                    binding.refresh();
                }
                return InvokerUtil.lookupOpener( "value_handler:rputype_lookup", [handler: h ] );
            }
            
            public String getDisplaytext() {
                return value ? value*.name.join(', ') : '';
            }
        }
        ]]>
    </code>
    
    <pages>
        <page template="rulemgmt.support.LookupValuePage"/> 
    </pages>
    
</workunit>