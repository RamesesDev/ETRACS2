import com.rameses.annotations.*
import groovy.text.SimpleTemplateEngine

class PlantTreeHtmlService
{
   @ProxyMethod
   def buildPlantTreeHTML(def faas) {
      def plantTree = [
         [
            title:'Assessment Detail',
            cols:1,
            tables:[
                [
                  title:'Tree Detail',
                  cols:1,
                  headers:[
                     [name:'unitvaluecode', caption:'Code'],
                     [name:'planttreename', caption:'Plant Tree'],
                     [name:'unitvalue', caption:'Unit Value'],
                     [name:'assesslevelcode', caption:'Assess Level'],
                     [name:'bearing', caption:'Bearing'],
                     [name:'nonbearing', caption:'Non Bearing'],
                     [name:'basemarketvalue', caption:'Base Market Value'],
                     [name:'adjustmentrate', caption:'Adjustment Rate'],
                     [name:'adjustment', caption:'Adjustment'],
                     [name:'marketvalue', caption:'Market Value'],
                     [name:'assessedvalue', caption:'Assessed Value'],
                  ],
                  items:[
                     [unitvaluecode:faas.rpu.info.planttreedetails.unitvaluecode],
                     [planttreename:faas.rpu.info.planttreedetails.planttreename],
                     [unitvalue:faas.rpu.info.planttreedetails.unitvalue],
                     [assesslevelcode:faas.rpu.info.planttreedetails.assesslevelcode],
                     [bearing:faas.rpu.info.planttreedetails.bearing],
                     [nonbearing:faas.rpu.info.planttreedetails.nonbearing],
                     [basemarketvalue:faas.rpu.info.planttreedetails.basemarketvalue],
                     [adjustmentrate:faas.rpu.info.planttreedetails.adjustmentrate],
                     [adjustment:faas.rpu.info.planttreedetails.adjustment],
                     [marketvalue:faas.rpu.info.planttreedetails.marketvalue],
                     [assessedvalue:faas.rpu.info.planttreedetails.assessedvalue],
                     
                  ],
                  leftItems:'',
                  data:'',
                  rightItems:''
                ],
            ],
            items:[
               [caption:'Total Bearing', value:faas.rpu.info.totalbearing],
               [caption:'Total Non Bearing', value:faas.rpu.info.totalnonbearing],
               [caption:'Base Market Value', value:faas.rpu.totalbmv],
               [caption:'Market Value', value:faas.rpu.totalmv],
               [caption:'Assessed Value', value:faas.rpu.totalav],
            ]
         ]
      ]
      
      return plantTree
   }
}
