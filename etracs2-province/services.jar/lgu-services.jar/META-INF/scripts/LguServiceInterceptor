import com.rameses.annotations.*;
import com.rameses.eserver.*;

class LguServiceInterceptor
{
	@PersistenceContext("etracs")
	def em;
	
	@Service("LogService")
	def logService;
	
	@After(pattern="LguService.createProvince")
	public void interceptCreateProvince( evt ) {	
		logService.log("CREATE", "Province", evt.result.objid);
	}
	
	@After(pattern="LguService.updateProvince") 
	public void interceptUpdateProvince( evt ) {
		logService.logB("UPDATE", "Province", evt.result.objid, null, evt.args[1]?.diff);
	}
	
}
